---
date: '2011-11-02T13:40:00.000-07:00'
description: ''
published: true
slug: 2011-11-loving-bunch-class
tags:
- geek celebrities
- python
- legacy-blogger
time_to_read: 5
title: Loving the bunch class
---

*This was originally posted on blogger [here](https://pydanny.blogspot.com/2011/11/loving-bunch-class.html)*.

<blockquote><h3>Warning</h3>This is me playing around with things in Python. It's not anything I use in real projects (except maybe the odd test). Please don't use these in anything important or you'll regret it.</blockquote>Every play with a <b>bunch</b> class? I love 'em and make them protected or unprotected. I started using them early in my <a href="http://python.org">Python</a> career, although it wasn't nearly about 2 years ago that I learned what they were called and the best way to code them. In any case, here is a simple, unprotected Bunch class.<br /><pre class="prettyprint-py"># Simple unprotected Python bunch class<br />class Bunch(object):<br /><br />    def __init__(self, **kwargs):<br />        self.__dict__.update(kwargs)<br /><br />bunch = Bunch(name='Loving the bunch class')<br />print(bunch.name)<br /></pre><br />You can also make protected ones, that don't let pesky developers like me overwrite attributes, methods, and properties by accident:<br /><br /><pre class="prettyprint-py"># Simple protected Python bunch class<br />class ProtectedBunch(object):<br />    """ Use this when you don't want to overwrite existing methods and data """<br /><br />    def __init__(self, **kwargs):<br />        for k, v in kwargs.items():<br />            if k not in self.__dict__:<br />                self.__dict__[k] = v<br /></pre><br />You can also write them to raise errors when a <b>key</b> is in <b>self.__dict__</b>. Or perhaps merely publish a warning. There are many ways to customize, but generally you want to keep these things as simple as possible. Anyway, let's get back to the main topic...<br /><br />In the early days of my experiences with Python I found a small, nagging issue with <b>dictionaries</b> and <b>objects</b>. The notation wasn't as handy as what you got with JavaScript and some other languages I was using at the time. For example:<br /><pre class="prettyprint-js">// JavaScript object notation<br />o = {};<br />o.name = 'Loving the bunch class';<br />o.name; // Calling with 'dot' notation<br />o['name']; // Calling with 'bracket' notation  <br /></pre><br />Unfortunately, in Python you can't do this with a normal bunch class:<br /><pre class="prettyprint-py"># Python bunch class failing on bracket notation<br />class Bunch(object):<br /><br />    def __init__(self, **kwargs):<br />        self.__dict__.update(kwargs)<br /><br />bunch = Bunch(name='Loving the bunch class')<br />print(bunch.name)<br />print(bunch['name'])<br />Traceback (most recent call last):<br />  File "", line 1, in <br />TypeError: 'Bunch' object is not subscriptable<br /></pre><br />The quick answer is found with a <a href="http://code.activestate.com/recipes/52308/#c2">little trick I found</a> in the comments of a recipie by <a href="http://en.wikipedia.org/wiki/Alex_Martelli">Alex Martelli</a> that gives you the ability to do:<br /><pre class="prettyprint-py"># Fancy dictionary/object trick<br />class Buncher(dict):<br />    """ Warning: DON'T USE THIS IN REAL PROJECTS """<br /><br />    def __init__(self,**kw):<br />        dict.__init__(self,kw)<br />        self.__dict__.update(kw)<br /><br />bunch = Bunch(name='Loving the bunch class')<br />print(bunch.name)<br />print(bunch['name'])<br /></pre><br />I'm not the only one who likes Bunch classes. On PyPI I found a <a href="http://pypi.python.org/pypi/bunch">really complete implementation</a>.<br /><br />Of course, in a lot of cases you probably don't want this '<i>weight of code</i>', right? Dictionaries being lighter than full objects and all that. Nevertheless, it's fun for noodling and playing around with code. Still, I'm thinking it might be a fun little project to take a group of bunch implementations and do performance checks on them versus each other and dictionaries. Maybe the 'performance hit' isn't so bad.<br /><br />I should also dig into things like <a href="http://docs.python.org/library/collections.html#defaultdict-objects">defaultdict</a> and other constructs to learn more. Part of the fun of any programming language is the depth of even the 'simplest' components of the language.